Purpose: Build a Python Dash-based interactive audit program for analyzing Amazon Ads data. The program will process two Excel files:
Bulk File: Contains hierarchical data for Campaigns, Ad Groups, Keywords, and Placements.
Search Term Report (STR): Provides search term-level metrics for customer interactions.
Features and Requirements
1. User Inputs
Target ACOS: The user will input a Target ACOS value at the start of the program. This value will:
Be applied across all calculations for max bid.
Be adjustable dynamically, triggering recalculations for metrics and flags.
2. Hierarchical Data Structure
Understand and maintain the following hierarchy from the Bulk File:
Campaign Level: The highest aggregation point.
Ad Group Level: Nested within Campaigns.
Keyword/Targeting Level: Nested within Ad Groups.
Search Term Level: Derived from the STR report and mapped back to campaigns and keywords.
Filtering Behavior:
When a user selects a Campaign, the program will:
Show only the Keywords and Product Targets within that Campaign (from the Bulk File).
Show only the relevant Search Terms from the STR report associated with that Campaign.
3. Metrics and Calculations
Perform the following calculations at the appropriate hierarchy levels:
Account Level Metrics (Aggregate from Campaigns):
Conversion Rate (CVR):
CVR
Account
=
Sum of Orders (all campaigns)
Sum of Clicks (all campaigns)
CVR 
Account
​
 = 
Sum of Clicks (all campaigns)
Sum of Orders (all campaigns)
​
 
Keyword and Search Term Level Metrics:
Revenue Per Click (RPC):
RPC
=
Sales
Clicks
RPC= 
Clicks
Sales
​
 
Maximum Bid:
Max Bid
=
RPC
×
Target ACOS
Max Bid=RPC×Target ACOS
ACOS (Advertising Cost of Sales):
ACOS
=
Spend
Sales
ACOS= 
Sales
Spend
​
 
Click-Through Rate (CTR):
CTR
=
Clicks
Impressions
CTR= 
Impressions
Clicks
​
 
Cost Per Click (CPC):
CPC
=
Spend
Clicks
CPC= 
Clicks
Spend
​
 
Note: Handle division by zero to avoid errors (e.g., if clicks are zero, set ACOS and CPC to zero).
4. Audit Summary
Display key metrics at the top of the dashboard:
Account-level Summary:
Total Spend, Total Sales, Total Orders, ACOS, CVR, CPC.
Actions Summary:
Top 3 actions: Number of bids to increase, keywords to pause, search terms to negate or graduate.
Layout:
Arrange metrics in three columns for clarity and optimal use of space.
Ensure recalculations whenever Target ACOS is adjusted.
5. Actions and Flags
Generate actionable flags based on the following criteria:
Keyword Level:
Reduce Bid: If Max Bid < CPC.
Increase Bid: If Max Bid > CPC.
Pause Keyword: If a keyword has more than 4 clicks and no orders.
Campaign Level:
Increase Placement Percentage: If ACOS for a specific placement is less than the Target ACOS.
Decrease Placement Percentage: If ACOS for a specific placement is greater than the Target ACOS.
Search Term Level:
Graduate Search Term: If ACOS < Target ACOS, has more than 2 orders, and is not already added as a keyword in another campaign.
Negate Search Term: If it has more than 3 clicks and no orders.
Do Nothing: If it does not match any other criteria.
Negative Targeting Checks:
Before flagging a search term for negation, verify if it already exists as a negative keyword or product target in the Bulk File.
Include the match type and indicate if it’s already added as negative (e.g., flag with "Already Added").
6. Interactivity and Filtering
Filters:
Campaign-Level Filters: Allow users to select specific campaigns.
Ad Group-Level Filters: Show only data within the selected campaign.
Keyword-Level Filters: Dynamically display relevant keywords.
Search Term-Level Filters: Show only search terms linked to the selected keywords or campaign.
Traceability:
Ensure users can trace all metrics and actions back to the Campaign > Ad Group > Keyword > Search Term hierarchy.
Dynamic Updates:
Automatically recalculate metrics and flags when filters are applied or Target ACOS is adjusted.
7. Search Term Report Integration
Map search terms from the STR file to their corresponding campaigns and keywords in the Bulk File.
Handle unmatched search terms by categorizing them as belonging to auto campaigns or unspecified targeting.
Include targeting details like match types and expressions for each search term.
8. Data Cleaning
Exclude unnecessary columns for clarity and efficiency, such as:
Informational Only fields (e.g., Campaign State, Ad Group State, Portfolio Name).
Columns unrelated to metrics or actions (e.g., Start Date, End Date).
Rename columns for simplicity:
"Click-Thru Rate" → "CTR".
"Cost Per Click" → "CPC".
"7 Day Total Orders (#)" → "Orders".
9. Visualization
Use Python Dash to create:
Interactive tables for Campaigns, Ad Groups, Keywords, and Search Terms.
Dynamic charts for metrics like ACOS, CVR, CPC, and RPC.
Expandable/collapsible panels for exploring hierarchy.
Design the interface to be visually appealing and easy to navigate.
10. Export Options
Allow users to download flagged items as a CSV for offline review.
Include hierarchy information (e.g., Campaign > Ad Group > Keyword > Search Term) in the exported file.
Implementation Goals
Use Python Dash for a fully interactive and dynamic user interface.
Automate:
Data cleaning.
Hierarchy mapping and traceability.
Metric calculations and flag generation.
Ensure scalability for accounts with hundreds of campaigns.
Prioritize user-friendliness with clear metrics, traceable actions, and a visually appealing design.